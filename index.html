<!DOCTYPE HTML>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109183608-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-109183608-2');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>What Makes the World Happpy?</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.9.0/css/bootstrap-slider.min.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.8.1/firebase-database.js"></script>
    <link rel="stylesheet" href="./css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.9.0/css/bootstrap-slider.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
</head>
<body>
	<div class = "jumbotron jumbotron-fluid" style="background : #a442f4;">
        <div class="container">
    		<h1 align="center" style = "color: white;">What Makes the World Happy?</h1>
            <h3 align="center">üåéüòä</h3>
    		<div align="center">
    			<p class="subtitle" style="color: white;">The UN Sustainable Development Solutions Network (SDSN) develops a yearly World Happiness Report, which is a survey of the state of global happiness, and ranks the world's countries by their happiness levels. Below, you can visualize these data and learn about the happiest countries.</p>
    		</div>
        </div>
	</div>

    <div>
        <div class="container">
            <h3>How Are Happiness Scores Calculated?</h3>
            <p class="description">
                The data used in this visualization come from the Gallup World Poll (GWP), which ranks countries based on answers to the main life evaluation question asked in the poll. This question is called the Cantril ladder, and asks respondents to think of a ladder, where the best possible life would be a 10, and the worst a 0. They then rate their own lives on that 0 to 10 scale.
                You can learn more about the Gallup World Poll <a target="_blank" href="http://www.gallup.com/178667/gallup-world-poll-work.aspx">here</a>.
            </p>

            <p>
                In addition to using the Gallup weights to calculate a happiness score, the contributions of six factors ‚Äì Family, GDP per Capita, Health, Freedom, Generosity, and Trust ‚Äì when making life evaluations are calculated.
            </p>
            <br>

            <div class="row" align="center">
                <div class="col">
                    <div class="jumbotron" align="center">
                    <p style="font-weight: bold;">
                        Family (Social Support) üë®‚Äçüë©‚Äçüëß
                    </p>
                    The estimated extent to which Family contributes to the calculation of the Happiness Score.
                    <br/><br/>
                    Equal to the national average of the responses to the GWP question ‚ÄúIf you were in trouble, do you have relatives or friends you can count on to help you whenever you need them, or not?‚Äù
                </div>
                </div>
                <div class="col">
                    <div class="jumbotron" align="center">
                    <p style="font-weight: bold;">
                        GDP per Capita üí∞
                    </p>
                    The estimated extent to which GDP per Capita contributes to the calculation of the Happiness Score.
                    <br/><br/>
                    GDP per capita is in terms of Purchasing Power Parity (PPP) adjusted to constant 2011 international dollars.
                    <br/><br/><br/>
                </div>
                </div>
                <div class="col">
                    <div class="jumbotron" align="center">
                    <p style="font-weight: bold;">
                        Health üè•
                    </p>
                    The estimated extent to which Health (Life Expectancy) contributes to the calculation of the Happiness Score.
                    <br/><br/>
                    The time series of healthy life expectancy at birth are constructed based on data from the World Health Organization and World Development Indicators.
                    <br/><br/>
                </div>
                </div>

            </div>
            <div class="row" align="center">
                <div class="col">
                    <div class="jumbotron" align="center">
                        <p style="font-weight: bold;">
                            Freedom üîì
                        </p>
                        The estimated extent to which Freedom contributes to the calculation of the Happiness Score.
                        <br></br>
                        Equal to the national average of binary responses to the GWP question ‚ÄúAre you satisfied or dissatisfied with your freedom to choose what you do with your life?‚Äù
                        <br/><br/><br/>
                    </div>
                </div>
                <div class="col">
                    <div class="jumbotron" align="center">
                        <p style="font-weight: bold;">
                            Generosity üíú
                        </p>
                        The estimated extent to which Generosity contributes to the calculation of the Happiness Score.
                        <br></br>
                        Equal to the residual of regressing the national average of GWP responses to the question ‚ÄúHave you donated money to a charity in the past month?‚Äù on GDP per capita.
                        <br/><br/><br/>
                    </div>
                </div>
                <div class="col">
                    <div class="jumbotron" align="center">
                        <p style="font-weight: bold;">
                            Trust ‚úãüèº
                        </p>
                        The estimated extent to which Trust contributes to the calculation of the Happiness Score.
                        <br></br>
                        Perceptions of corruption (Trust) are the average of binary answers to two GWP questions: ‚ÄúIs corruption widespread throughout the government or not?‚Äù and ‚ÄúIs corruption widespread within businesses or not?‚Äù
                    </div>
                </div>
            </div>
            <div class="row" align="center">
                <div class="col">
                    <div class="jumbotron" align="center">
                        <p style="font-weight: bold;">
                            Dystopia Residual üåã
                        </p>
                        Each country is compared against a hypothetical nation called Dystopia. Dystopia represents the lowest national averages for each of the six key variables and is, along with residual error, used as a regression benchmark.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid" align="center">
        <div class="container">
            <h3>What Makes Countries Happy?</h3>
            <p class="description">
                In the interactive bubble chart below, you can see the estimated extent to which these six factors bring happiness to countries around the world. Use the slider to see data for different years, hover over a bubble to see details about the country, or select a filter to view the graph corresponding to that factor.
            </p>
        </div>
    </div>

<!-- START: Bubble Chart -->

    <!-- <div class = "jumbotron"> -->
        <div align="center" id="bubble_chart">
        <!-- style="border: 1px solid #888;" -->
        <!-- viewBox="0 0 1000 600"  preserveAspectRatio="xMidYMid meet"-->
            <svg width="1000" height="600">
                <g class='legend' transform="translate(230, 4)">
                    <g>
                        <circle r="8" cy="4" style="fill: #49f47f;"/>
                        <text class="colorLegend" x="11" dy="0.7em">America</text>
                    </g>
                    <g transform="translate(75)">
                        <circle r="8" cy="4" style="fill: #f44949;"/>
                        <text class="colorLegend" x="11" dy="0.7em">Europe</text>
                    </g>
                    <g transform="translate(140)">
                        <circle r="8" cy="4" style="fill: #49c9f4;"/>
                        <text class="colorLegend" x="11" dy="0.7em">Africa</text>
                    </g>
                    <g transform="translate(200)">
                        <circle r="8" cy="4" style="fill: #f4b642;"/>
                        <text class="colorLegend" x="11" dy="0.7em">Asia/Oceania</text>
                    </g>
                </g>
            </svg>
        </div>
	<!-- </div> -->

    <div align="center">
        <label for="yearSlider" style="margin-right:6px;">2015</label>
        <input id="yearSlider" type="text" data-slider-min="2015" data-slider-max="2017" data-slider-step="1" data-slider-value="2015" style="width: 500px;"/>
        <label for="yearSlider"  style="margin-left:6px;">2017</label>
    </div>

<!-- END: Bubble Chart -->

    <br/>

<!-- START: Rankings List -->

    <div class="jumbotron jumbotron-fluid" align="center">
        <div class="container">
            <p class="description">
                <h3 align="center">Top 10 Countries</h3>
                <p>
                    In the following slope graph, you can see how the top 10 happiest countries have ranked over the past three years.
                </p>
            </p>
        </div>
    </div>

    <div align="center" id="ranks_slope_graph">
        <svg width="1000" height="450">
        </svg>
    </div>

<!-- END: Rankings List -->

<!-- START: Choropleth Map -->

    <div class="jumbotron jumbotron-fluid" align="center">
        <div class="container">
            <p class="description">
                <h3 align="center">The State of Happiness in 2017</h3>
                <p>
                    The choropleth map below shows happiness levels for the year 2017. The happiest countries are colored darker, while the least happy are colored lighter. Countries not ranked are colored gray.
                </p>
            </p>
        </div>
    </div>

    <div>
        <div id="map" style="height: 550px; width: 80%; margin-right: auto; margin-left: auto;"></div>
    </div>

<!-- END: Choropleth Map -->

    <br/><br/>


    <div class="jumbotron jumbotron-fluid" align="center">
        <div class="container">
            <p class="description">
                <h3 align="center">World Happiness on the News</h3>
            </p>
            <br/>
            <div class="row" align="center">
                <div class="col">
                    <!-- <div class="jumbotron" align="center"> -->
                        <p style="font-weight: bold;">
                            <a href="https://www.bloomberg.com/news/articles/2017-03-20/world-happiness-report-2017-rankings-released" target="_blank">Bloomberg</a>
                        </p>
                        "Money doesn't buy happiness (in America)."
                    <!-- </div> -->
                </div>
                <div class="col">
                    <!-- <div class="jumbotron" align="center"> -->
                        <p style="font-weight: bold;">
                            <a href="http://www.businessinsider.com/world-happiness-report-happiest-countries-2017-3" target="_blank">Business Insider</a>
                        </p>
                        "People in the happiest countries in the world trust their governments and businesses, see themselves as free to make life decisions, and say they have good social support."
                    <!-- </div> -->
                </div>
                <div class="col">
                    <!-- <div class="jumbotron" align="center"> -->
                        <p style="font-weight: bold;">
                            <a href="http://edition.cnn.com/travel/article/worlds-happiest-countries-united-nations-2017/index.html" target="_blank">CNN</a>
                        </p>
                        "Happiness isn't just about money, although it's part of it."
                    <!-- </div> -->
                </div>
            </div>
            <br/><br/>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/Se2gfFKp1Iw" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>
        </div>
        <br/>
    </div>

    <br><br>

    <div class = "jumbotron jumbotron-fluid">
        <div class="container">
    		<h3 align="center">So, what makes YOU happy?</h3>
    		<div align="center">
                <p>
                    Share your answer below and let me know! Once I've received enough submissions, I'll share another visualization with the most popular responses.
                </p>

                <div class="row">
                        <div class="input-group" style="margin-right: auto; margin-left: auto;">
                            <input id="happinessSubmission" type="text" class="form-control" placeholder="What makes YOU happy?" aria-label="What makes YOU happy?">
                            <span class="input-group-btn">
                                <button onclick="submitHappinessEntry()" class="btn btn-secondary" type="button">Submit</button>
                            </span>
                        </div>
                </div>
    	    </div>
            <p>
        </div>
    </div>

	<div align="center">
		<p style="font-size:10pt">Made with üíõ by Alejandrina Patr√≥n</p>
        <a href="mailto:apl7@gatech.edu" class="btn-social btn-outline"><i class="fa fa-lg fa-fw fa-envelope"></i></a>
        <a href="https://apatronl.github.io" target="_blank" class="btn-social btn-outline"><i class="fa fa-lg fa-fw fa-globe"></i></a>
        <a href="https://www.linkedin.com/in/alejandrinapatron" target="_blank" class="btn-social btn-outline"><i class="fa fa-lg fa-fw fa-linkedin"></i></a>
        <a href="https://www.github.com/apatronl" target="_blank" class="btn-social btn-outline"><i class="fa fa-lg fa-fw fa-github"></i></a>
        <p></p>
        <a style="font-size:13px;" href="https://www.github.com/apatronl/WorldHappiness" target="_blank">Source Code</a> | <a style="font-size:13px;" href="https://www.kaggle.com/unsdsn/world-happiness/data" target="_blank">Data</a> | <a style="font-size:13px;" href="http://worldhappiness.report/" target="_blank">World Happiness Report</a>
        <br></br>
    </div>

</body>

<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCzIETOPPVcF0NajGlOjlZbE1v9WTEVWnk",
    authDomain: "world-happiness.firebaseapp.com",
    databaseURL: "https://world-happiness.firebaseio.com",
    projectId: "world-happiness",
    storageBucket: "world-happiness.appspot.com",
    messagingSenderId: "464225795943"
  };
  firebase.initializeApp(config);
</script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.9.0/bootstrap-slider.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://rawgit.com/Caged/d3-tip/master/index.js"></script>
<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
<script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>
<script src="./js/bubblechart.js"></script>
<script src="./js/choropleth.js"></script>
<script src="./js/slopegraph.js"></script>
<script src="./js/submission.js"></script>

</html>
